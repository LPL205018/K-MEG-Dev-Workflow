# 開發守則：第四部分 - 自動化品質保證 (Quality Assurance)
# 版本：v1.0 | 狀態：ENFORCED (自動化執行)

## 1. 測試驅動與驗證 (Test-Driven Integrity)
* **單元測試基礎 (Unit Tests):** 所有的核心邏輯、算法與工具函數必須具備單元測試。測試應涵蓋：
    * **快樂路徑 (Happy Path):** 預期輸入得到預期輸出。
    * **邊際情況 (Edge Cases):** 極大值、極小值、空值、非法格式。
* **回歸測試自動化:** 每次 Bug 修復後，必須同步增加對應的測試案例，確保相同問題不再發生。
* **Mock 外部依賴:** 測試應在受控環境下執行，禁止在單元測試中連結真實資料庫或發送真實網路請求。

## 2. 代碼靜態稽核 (Static Analysis & Linting)
* **自動化規範檢查:** 提交代碼 (Git Push) 前必須通過 Linter 與格式化檢查。
    * *禁止項:* 嚴禁提交包含 `console.log`（除生產日誌外）、未定義變數或死代碼 (Dead Code) 的內容。
* **複雜度監控:** 透過工具追蹤「循環複雜度 (Cyclomatic Complexity)」。若單一函數複雜度超過臨界值（建議 10），則強制觸發重構程序。

## 3. 持續整合與交付 (CI/CD Pipeline)
* **自動化流水線:** 任何進入 `Main` 分支的代碼必須通過完整的 CI 流水線，包含編譯、靜態分析、單元測試與整合測試。
* **部署原子化:** 部署過程必須自動化，確保環境一致性（從 Staging 到 Production）。嚴禁任何形式的手動修改伺服器代碼。
* **金絲雀發佈/藍綠部署:** 關鍵更新應具備逐步釋放能力，並配備「一鍵回滾 (One-Click Rollback)」機制，以應對突發的邏輯崩潰。

## 4. 可觀測性與日誌 (Observability)
* **結構化日誌:** 日誌必須以機器可讀格式（如 JSON）輸出，並包含 Trace ID，以便在微服務或複雜調用鏈中追蹤問題。
* **指標監控 (Metrics):** 系統關鍵路徑必須埋設監控指標（如：響應時間、錯誤率、吞吐量）。
* **主動告警:** 當錯誤率超過設定閾值（L1 級別故障）時，系統必須能自動觸發告警通知開發團隊。